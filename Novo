<!-- Espa√ßo Premium Adicional -->
<div id="premiumPanel" class="card hidden" style="position:fixed; top:10%; left:50%; transform:translateX(-50%); max-width:500px; z-index:10;">
  <h1>Conquistas & Estat√≠sticas</h1>
  <div id="badges" style="margin:10px 0;"></div>
  <div id="stats" style="margin-top:12px; text-align:left;">
    <p>Acertos: <span id="statCorrect">0</span></p>
    <p>Erros: <span id="statWrong">0</span></p>
    <p>Progresso: <span id="statProgress">0%</span></p>
  </div>
  <div id="miniGame" style="margin-top:12px;">
    <p>Mini-game: Clique na resposta correta para ganhar pontos extras!</p>
    <div class="answers" id="miniAnswers"></div>
  </div>
  <button class="btn" onclick="closePremium()">Fechar Painel</button>
</div>

<script>
const premiumPanel = document.getElementById('premiumPanel');
const badgesEl = document.getElementById('badges');
const statCorrect = document.getElementById('statCorrect');
const statWrong = document.getElementById('statWrong');
const statProgress = document.getElementById('statProgress');
const miniAnswers = document.getElementById('miniAnswers');

let premiumStats = { correct:0, wrong:0, total:0 };

function updatePremiumStats(correct, total=1){
  premiumStats.correct += correct ? 1 : 0;
  premiumStats.wrong += correct ? 0 : 1;
  premiumStats.total += total;
  statCorrect.textContent = premiumStats.correct;
  statWrong.textContent = premiumStats.wrong;
  statProgress.textContent = Math.round((premiumStats.correct/premiumStats.total)*100)+'%';
  updateBadges();
}

function updateBadges(){
  badgesEl.innerHTML = '';
  if(premiumStats.correct>=5) badgesEl.innerHTML += 'üèÖ Acertou 5 respostas! ';
  if(premiumStats.correct>=10) badgesEl.innerHTML += 'üåü Acertou 10 respostas! ';
  if(premiumStats.correct>=15) badgesEl.innerHTML += 'üî• Tema completado! ';
  // Efeito confete
  if(premiumStats.correct % 5 === 0 && premiumStats.correct>0){
    for(let i=0;i<30;i++){
      const c = document.createElement('div');
      c.className='p';
      c.style.width=c.style.height=(Math.random()*6+4)+'px';
      c.style.left=(Math.random()*100)+'%';
      c.style.top='0%';
      c.style.background=['#00ffff','#00ff99','#ffffff'][Math.floor(Math.random()*3)];
      c.style.opacity=Math.random();
      document.body.appendChild(c);
      c.animate([{transform:'translateY(0px)'},{transform:'translateY(400px)'}],{duration:2000+Math.random()*1000});
      setTimeout(()=>c.remove(),2200);
    }
  }
}

// Mini-game simples
function loadMiniGame(){
  miniAnswers.innerHTML='';
  const options=['Rito','Mito','S√≠mbolo','Outra'];
  const correctIndex = Math.floor(Math.random()*options.length);
  options.forEach((opt,i)=>{
    const btn = document.createElement('button');
    btn.className='answer-btn';
    btn.textContent=opt;
    btn.onclick=()=>{
      if(i===correctIndex){
        alert('Correto! +1 ponto extra');
        updatePremiumStats(true);
      }else{
        alert('Errado!'); updatePremiumStats(false);
      }
      loadMiniGame();
    };
    miniAnswers.appendChild(btn);
  });
}

function openPremium(){
  premiumPanel.classList.remove('hidden');
  loadMiniGame();
}

function closePremium(){
  premiumPanel.classList.add('hidden');
}

// Integra√ß√£o com quiz principal
// Sempre que algu√©m acerta/erra no quiz, chama updatePremiumStats
// Exemplo: dentro de selectAnswer()
// updatePremiumStats(selected===correct);
</script>
