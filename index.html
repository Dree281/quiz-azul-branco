<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz</title>

<style>
  /* === Estilo base === */
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

  html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    font-family: 'Poppins', sans-serif;
    height: 100vh;
    color: #fff;
    background: linear-gradient(135deg, #000, #0a2a88, #222, #ccc);
    background-size: 400% 400%;
    animation: gradientMove 12s ease infinite;
  }

  @keyframes gradientMove {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
  }

  /* === Container central === */
  .container {
    position: relative;
    z-index: 2;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 20px;
    box-shadow: 0 0 30px rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(12px);
    width: 90%;
    max-width: 600px;
    margin: auto;
    padding: 40px;
    text-align: center;
    animation: fadeIn 1s ease forwards;
  }

  h1, h2, h3, p {
    margin: 10px 0;
  }

  button {
    background: rgba(0, 140, 255, 0.2);
    color: #fff;
    border: 1px solid #00aaff;
    border-radius: 10px;
    padding: 12px 25px;
    font-size: 1.1em;
    margin: 10px;
    cursor: pointer;
    transition: all 0.4s ease;
    position: relative;
    overflow: hidden;
  }

  button:hover {
    background: rgba(0, 140, 255, 0.4);
    box-shadow: 0 0 15px #00aaff, 0 0 30px #0077ff inset;
    transform: scale(1.05);
  }

  button:active {
    transform: scale(0.97);
    box-shadow: 0 0 10px #00aaff;
  }

  .hidden {
    display: none;
  }

  /* === Partículas === */
  .particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: 1;
    pointer-events: none;
  }

  .particle {
    position: absolute;
    background: radial-gradient(circle, #fff, transparent);
    border-radius: 50%;
    opacity: 0.8;
    animation: float 10s linear infinite;
  }

  @keyframes float {
    from { transform: translateY(100vh) scale(0.5); opacity: 0.8; }
    to { transform: translateY(-10vh) scale(1.2); opacity: 0; }
  }

  /* === Animação de entrada === */
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* === Barra de progresso === */
  .progress {
    background: rgba(255,255,255,0.2);
    border-radius: 20px;
    height: 12px;
    margin: 15px 0;
    overflow: hidden;
  }
  .progress-fill {
    background: linear-gradient(90deg, #00aaff, #00ffcc);
    width: 0%;
    height: 100%;
    border-radius: 20px;
    transition: width 0.5s ease;
  }

  /* === Controles de música === */
  .music-controls {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: rgba(0,0,0,0.5);
    padding: 10px 15px;
    border-radius: 15px;
    backdrop-filter: blur(6px);
    box-shadow: 0 0 10px #00aaff;
    z-index: 3;
  }
  .music-controls button {
    font-size: 1em;
    padding: 8px 15px;
    margin: 0 5px;
  }
  .music-controls input {
    vertical-align: middle;
  }
</style>
</head>
<body>

<!-- === Fundo de partículas === -->
<div class="particles" id="particles"></div>

<!-- === Interface principal === -->
<div class="container" id="start-screen">
  <h1>Quiz</h1>
  <button onclick="startGame()">Começar</button>
</div>

<div class="container hidden" id="theme-screen">
  <h2>Escolha um tema</h2>
  <button onclick="selectTheme('Rito')">Rito</button>
  <button onclick="selectTheme('Símbolo')">Símbolo</button>
  <button onclick="selectTheme('Mito')">Mito</button>
</div>

<div class="container hidden" id="quiz">
  <h2 id="theme">Tema</h2>
  <p id="question">Pergunta</p>
  <div id="answers"></div>
  <div class="progress"><div class="progress-fill" id="progressFill"></div></div>
  <p id="progress"></p>
  <button id="nextBtn" class="hidden">Próxima</button>
</div>

<!-- === Controles de música === -->
<div class="music-controls">
  <button onclick="toggleMusic()">🎵</button>
  <input type="range" id="volume" min="0" max="1" step="0.05" value="0.3" onchange="setVolume(this.value)">
</div>

<!-- === Sons === -->
<audio id="bgMusic" loop autoplay>
  <source src="https://files.freemusicarchive.org/storage-freemusicarchive-org/music/no_curator/lofi_study/Chillhop_Beats_-_Calm_Vibes.mp3" type="audio/mpeg">
</audio>
<audio id="correctSound" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
<audio id="wrongSound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
<audio id="clickSound" src="https://actions.google.com/sounds/v1/cartoon/pop.ogg"></audio>

<script>
/* === Sistema de partículas === */
const particleContainer = document.getElementById('particles');
for (let i = 0; i < 60; i++) {
  const particle = document.createElement('div');
  particle.classList.add('particle');
  const size = Math.random() * 6 + 2;
  particle.style.width = size + 'px';
  particle.style.height = size + 'px';
  particle.style.left = Math.random() * 100 + 'vw';
  particle.style.animationDuration = 8 + Math.random() * 6 + 's';
  particleContainer.appendChild(particle);
}

/* === Lógica principal === */
const quizData = {
  "Rito": [
    { q: "O que é um rito?", a: ["Uma prática simbólica repetida", "Um ser espiritual", "Um lugar sagrado", "Uma história mística"], correct: 0 },
    { q: "Os ritos geralmente expressam:", a: ["A cultura e fé de um grupo", "Somente diversão", "Fatos científicos", "Curiosidades históricas"], correct: 0 },
  ],
  "Símbolo": [
    { q: "O que é um símbolo?", a: ["Representação de uma ideia", "Um objeto comum", "Um som qualquer", "Um tipo de rito"], correct: 0 },
    { q: "Símbolos são usados para:", a: ["Transmitir significados", "Comer", "Dormir", "Escrever"], correct: 0 },
  ],
  "Mito": [
    { q: "O que é um mito?", a: ["Uma narrativa simbólica", "Um fato científico", "Uma lei política", "Uma invenção moderna"], correct: 0 },
    { q: "Mitos explicam:", a: ["A origem e o sentido das coisas", "A economia", "A tecnologia", "A matemática"], correct: 0 },
  ]
};

let theme = "";
let questionIndex = 0;
let score = 0;

const startScreen = document.getElementById('start-screen');
const themeScreen = document.getElementById('theme-screen');
const quiz = document.getElementById('quiz');
const themeEl = document.getElementById('theme');
const questionEl = document.getElementById('question');
const answersEl = document.getElementById('answers');
const progressEl = document.getElementById('progress');
const nextBtn = document.getElementById('nextBtn');
const progressFill = document.getElementById('progressFill');
const correctSound = document.getElementById('correctSound');
const wrongSound = document.getElementById('wrongSound');
const clickSound = document.getElementById('clickSound');
const bgMusic = document.getElementById('bgMusic');

/* === Funções do jogo === */
function startGame() {
  clickSound.play();
  startScreen.classList.add('hidden');
  themeScreen.classList.remove('hidden');
}

function selectTheme(selected) {
  clickSound.play();
  theme = selected;
  themeScreen.classList.add('hidden');
  quiz.classList.remove('hidden');
  questionIndex = 0;
  score = 0;
  loadQuestion();
}

function loadQuestion() {
  const current = quizData[theme][questionIndex];
  themeEl.textContent = theme;
  questionEl.textContent = current.q;
  answersEl.innerHTML = '';
  progressEl.textContent = `Pergunta ${questionIndex + 1} de ${quizData[theme].length}`;
  current.a.forEach((answer, i) => {
    const btn = document.createElement('button');
    btn.textContent = answer;
    btn.onclick = () => checkAnswer(i);
    answersEl.appendChild(btn);
  });
  progressFill.style.width = ((questionIndex / quizData[theme].length) * 100) + '%';
  nextBtn.classList.add('hidden');
}

function checkAnswer(selected) {
  const current = quizData[theme][questionIndex];
  const buttons = answersEl.querySelectorAll('button');
  buttons.forEach((btn, i) => {
    btn.disabled = true;
    if (i === current.correct) btn.style.background = '#00ff99';
    if (i === selected && i !== current.correct) btn.style.background = '#ff4444';
  });
  if (selected === current.correct) { score++; correctSound.play(); }
  else { wrongSound.play(); }
  nextBtn.classList.remove('hidden');
}

nextBtn.addEventListener('click', () => {
  clickSound.play();
  questionIndex++;
  if (questionIndex < quizData[theme].length) loadQuestion();
  else showResult();
});

function showResult() {
  let msg = score === quizData[theme].length
    ? "Perfeito! Você acertou todas! ⭐"
    : score >= quizData[theme].length / 2
    ? "Muito bom! Continue assim! 💪"
    : "Não desanime! Tente novamente! 🌱";
  quiz.innerHTML = `<h1>Fim do Tema: ${theme}</h1><p>Você acertou ${score} de ${quizData[theme].length}.</p><p>${msg}</p><button onclick="backToThemes()">Voltar aos temas</button>`;
}

function backToThemes() {
  clickSound.play();
  quiz.classList.add('hidden');
  themeScreen.classList.remove('hidden');
  progressFill.style.width = '0%';
}

/* === Música === */
function toggleMusic() {
  if (bgMusic.paused) bgMusic.play();
  else bgMusic.pause();
}
function setVolume(v) {
  bgMusic.volume = v;
}
</script>
</body>
</html>
